"use strict";window.addEventListener("load",(()=>{let t=window.innerHeight;const e=document.querySelector(".js_album-img"),a=document.querySelector(".js_album-img-block"),l=document.querySelector(".js_album"),s=document.querySelector(".js_thumbnails"),i=s.querySelectorAll("img");let r=l.offsetWidth-75;const n=document.querySelector(".js_album-thumbnails-prev"),u=document.querySelector(".js_album-thumbnails-next"),c=document.querySelector(".js_album-prev"),m=document.querySelector(".js_album-next");let o=0,d=0,b=0;e.style.maxWidth=`${r}px`,e.style.maxHeight=.7*t+"px",a.style.minHeight=.8*t+"px",s.style.width=`${r}px`;const h=[0];let _=0,v=0;for(let t=0;t<i.length;t++)_+=i[t].offsetWidth,b+=i[t].offsetWidth,i[t].setAttribute("data-view-pattern",v),i[t].setAttribute("data-num",t),_>=r&&(i[t].removeAttribute("data-view-pattern"),i[t].removeAttribute("data-num"),v+=1,_-=i[t].offsetWidth,h.push(_),_=0,b-=i[t].offsetWidth,t--);for(let t=1;t<h.length;t++)h[t]+=h[t-1];d=b-r-h[h.length-1],d<0&&(h[h.length-1]+=d+5),i[0].classList.add("album__thumbnail_active");let g=i[0].getAttribute("src");g=g.replace("thumbnails/",""),e.setAttribute("src",g);let f=0;function p(){s.style.transform=`translateX(-${h[o]}px)`}c.addEventListener("click",(()=>{if(f>0){let t;f-=1,i.forEach((a=>{if(a.classList.remove("album__thumbnail_active"),a.dataset.num==f){a.classList.add("album__thumbnail_active");let l=a.getAttribute("src");return l=l.replace("thumbnails/",""),e.setAttribute("src",l),void(t=+a.dataset.viewPattern)}o!=t&&(o=t,p())})),console.log(f)}})),m.addEventListener("click",(()=>{if(f<i.length-1){let t;f+=1,i.forEach((a=>{if(a.classList.remove("album__thumbnail_active"),a.dataset.num==f){a.classList.add("album__thumbnail_active");let l=a.getAttribute("src");return l=l.replace("thumbnails/",""),e.setAttribute("src",l),void(t=+a.dataset.viewPattern)}o!=t&&(o=t,p())})),console.log(f)}})),s.addEventListener("click",(t=>{i.forEach((t=>{t.classList.remove("album__thumbnail_active")})),t.target.classList.add("album__thumbnail_active"),f=+t.target.dataset.num,console.log(f);let a=t.target.getAttribute("src");a=a.replace("thumbnails/",""),e.setAttribute("src",a)})),u.addEventListener("click",(()=>{o<h.length-1&&(o+=1,p())})),n.addEventListener("click",(()=>{o>0&&(o-=1,p())}))}));