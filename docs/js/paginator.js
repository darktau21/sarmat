"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,s){return e&&_defineProperties(t.prototype,e),s&&_defineProperties(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}var Paginator=function(){function t(e){var s=e.articlesSelector,n=e.paginatorSelector,r=e.firstBtnSelector,i=e.secondBtnSelector,a=e.thirdBtnSelector,c=e.prevBtnSelector,o=e.nextBtnSelector,l=e.articleActiveClass,h=e.paginatorActiveClass,g=e.paginatorBlockedClass;_classCallCheck(this,t),this.firstBtnSelector=r,this.secondBtnSelector=i,this.thirdBtnSelector=a,this.prevBtnSelector=c,this.nextBtnSelector=o,this.articleActiveClass=l,this.paginatorActiveClass=h,this.paginatorBlockedClass=g,this.articles=document.querySelectorAll(".".concat(s)),this.paginator=document.querySelector(".".concat(n)),this.firstBtn=document.querySelector(".".concat(r)),this.secondBtn=document.querySelector(".".concat(i)),this.thirdBtn=document.querySelector(".".concat(a)),this.prevBtn=document.querySelector(".".concat(c)),this.nextBtn=document.querySelector(".".concat(o)),this.urlString,this.urlParams,this.currentPage}return _createClass(t,[{key:"getUrlString",value:function(){this.urlString=document.location.search}},{key:"getUrlParams",value:function(){this.urlParams=new URLSearchParams(this.urlString)}},{key:"getCurrentPage",value:function(){this.currentPage=this.urlParams.get("page")}},{key:"changeArticle",value:function(){var t=this;this.getUrlString(),this.getUrlParams(),this.getCurrentPage(),this.articles.forEach((function(e){e.classList.remove(t.articleActiveClass)})),this.articles[this.currentPage-1].classList.add(this.articleActiveClass),window.scrollTo(0,0)}},{key:"changePaginator",value:function(){this.firstBtn.classList.remove(this.paginatorActiveClass),this.secondBtn.classList.remove(this.paginatorActiveClass),this.thirdBtn.classList.remove(this.paginatorActiveClass),this.prevBtn.classList.remove(this.paginatorBlockedClass),this.nextBtn.classList.remove(this.paginatorBlockedClass),1==this.currentPage?(this.prevBtn.classList.add(this.paginatorBlockedClass),this.firstBtn.textContent=+this.currentPage,this.secondBtn.textContent=+this.currentPage+1,this.thirdBtn.textContent=+this.currentPage+2,this.firstBtn.classList.add(this.paginatorActiveClass)):this.currentPage==this.articles.length?(this.nextBtn.classList.add(this.paginatorBlockedClass),this.firstBtn.textContent=+this.currentPage-2,this.secondBtn.textContent=+this.currentPage-1,this.thirdBtn.textContent=+this.currentPage,this.thirdBtn.classList.add(this.paginatorActiveClass)):(this.firstBtn.textContent=+this.currentPage-1,this.secondBtn.textContent=+this.currentPage,this.thirdBtn.textContent=+this.currentPage+1,this.secondBtn.classList.add(this.paginatorActiveClass))}},{key:"setPaginatorListener",value:function(){var t=this;this.paginator.addEventListener("click",(function(e){e.target.classList.contains(t.prevBtnSelector)&&1!=t.currentPage?t.currentPage=1:e.target.classList.contains(t.nextBtnSelector)&&t.currentPage!=t.articles.length?t.currentPage=t.articles.length:(e.target.classList.contains(t.firstBtnSelector)||e.target.classList.contains(t.secondBtnSelector)||e.target.classList.contains(t.thirdBtnSelector))&&(t.currentPage=e.target.textContent),history.pushState(null,null,"?page=".concat(t.currentPage)),t.changeArticle(),t.changePaginator()}))}},{key:"init",value:function(){this.getUrlString(),this.getUrlParams(),this.getCurrentPage(),this.changeArticle(),this.changePaginator(),this.setPaginatorListener()}}]),t}();document.addEventListener("DOMContentLoaded",(function(){new Paginator({articlesSelector:"js_article",paginatorSelector:"js_paginator",firstBtnSelector:"js_paginator-first",secondBtnSelector:"js_paginator-second",thirdBtnSelector:"js_paginator-third",prevBtnSelector:"js_paginator-prev",nextBtnSelector:"js_paginator-next",articleActiveClass:"history__article_active",paginatorActiveClass:"paginator__btn_active",paginatorBlockedClass:"paginator__btn_blocked"}).init()}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhZ2luYXRvci5qcyJdLCJuYW1lcyI6WyJQYWdpbmF0b3IiLCJfcmVmIiwiYXJ0aWNsZXNTZWxlY3RvciIsInBhZ2luYXRvclNlbGVjdG9yIiwiZmlyc3RCdG5TZWxlY3RvciIsInNlY29uZEJ0blNlbGVjdG9yIiwicHJldkJ0blNlbGVjdG9yIiwibmV4dEJ0blNlbGVjdG9yIiwiYXJ0aWNsZUFjdGl2ZUNsYXNzIiwicGFnaW5hdG9yQWN0aXZlQ2xhc3MiLCJwYWdpbmF0b3JCbG9ja2VkQ2xhc3MiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwidGhpcmRCdG5TZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3IiLCJwYWdpbmF0b3IiLCJmaXJzdEJ0biIsInNlY29uZEJ0biIsInVybFN0cmluZyIsImRvY3VtZW50IiwibG9jYXRpb24iLCJzZWFyY2giLCJ1cmxQYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJjdXJyZW50UGFnZSIsIl90aGlzIiwiZ2V0VXJsU3RyaW5nIiwiZ2V0VXJsUGFyYW1zIiwiZ2V0Q3VycmVudFBhZ2UiLCJhcnRpY2xlcyIsImZvckVhY2giLCJhcnRpY2xlIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiYWRkIiwid2luZG93Iiwic2Nyb2xsVG8iLCJ0aGlyZEJ0biIsInByZXZCdG4iLCJuZXh0QnRuIiwidGV4dENvbnRlbnQiLCJsZW5ndGgiLCJlIiwidGFyZ2V0IiwiX3RoaXMyIiwiY29udGFpbnMiLCJoaXN0b3J5IiwicHVzaFN0YXRlIiwiY29uY2F0IiwiY2hhbmdlUGFnaW5hdG9yIiwic2V0UGFnaW5hdG9yTGlzdGVuZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiY2hhbmdlQXJ0aWNsZSIsImluaXQiXSwibWFwcGluZ3MiOiJBQUFBLDBjQUVNQSxxQkFDSixTQUFBQSxFQUFBQyxHQVdHLElBVkRDLEVBVUNELEVBVkRDLGlCQUNBQyxFQVNDRixFQVRERSxrQkFDQUMsRUFRQ0gsRUFSREcsaUJBQ0FDLEVBT0NKLEVBUERJLGtCQUxFTCxFQVlEQyxFQVpDRCxpQkFDSk0sRUFXR0wsRUFYSEssZ0JBV0dDLEVBQUFOLEVBQUFNLGdCQUFBQyxFQUFBUCxFQUFBTyxtQkFBQUMsRUFBQVIsRUFBQVEscUJBQUFDLEVBQUFULEVBQUFTLHNCQUFBQyxnQkFBQUMsS0FBQVosR0FBQVksS0FMRE4saUJBS0NGLEVBQUFRLEtBSkRMLGtCQUlDRixFQUFBTyxLQUhESixpQkFHQ0ssRUFBQUQsS0FGREgsZ0JBQUFBLEVBRUNHLEtBRERGLGdCQUFBQSxFQU9BRSxLQUFLSixtQkFBcUJBLEVBTnpCSSxLQUFBSCxxQkFBQUEsRUFRREcsS0FBS0Ysc0JBQXdCQSxFQU43QkUsS0FBS1AsU0FBQUEsU0FBb0JBLGlCQUFwQkEsSUFBQUEsT0FBTEgsSUFDQVUsS0FBS0MsVUFBQUEsU0FBbUJBLGNBQW5CQSxJQUFBQSxPQUFMVixJQUNBUyxLQUFLTixTQUFBQSxTQUFrQkEsY0FBbEJBLElBQUFBLE9BQUxGLElBQ0FRLEtBQUtMLFVBQUFBLFNBQWtCQSxjQUFsQkEsSUFBQUEsT0FBTEYsSUFDQU8sS0FBS0osU0FBQUEsU0FBTE0sY0FBS04sSUFBQUEsT0FBcUJBLElBQzFCSSxLQUFLSCxRQUFBQSxTQUFBQSxjQUFBQSxJQUFBQSxPQUF1QkEsSUFDNUJHLEtBQUtGLFFBQUFBLFNBQUFBLGNBQUFBLElBQUFBLE9BQXdCQSxJQUc3QkUsS0FBS0csVUFDTEgsS0FBS0ksVUFDTEosS0FBS0ssNkRBR0wsV0FFQUwsS0FBS00sVUFBTEMsU0FBQUMsU0FBQUMsbUNBR0QsV0FPQ1QsS0FBS1UsVUFBWSxJQUFJQyxnQkFBZ0JYLEtBQUtNLHlDQUc1QyxXQVBFTixLQUFBWSxZQUFpQkwsS0FBQUEsVUFBU0MsSUFBU0MscUNBV3JDLFdBQWdCLElBQUFJLEVBQUFiLEtBQ2RBLEtBQUtjLGVBUkxkLEtBQUFlLGVBQ0RmLEtBQUFnQixpQkFXQ2hCLEtBQUtpQixTQUFTQyxTQUFRLFNBQUNDLEdBQ3JCQSxFQVZKQyxVQUFBQyxPQUFBUixFQUFBakIsdUJBRUNJLEtBQUFpQixTQUFBakIsS0FBQVksWUFBQSxHQUFBUSxVQUFBRSxJQUFBdEIsS0FBQUosb0JBV0MyQixPQUFPQyxTQUFTLEVBQUcsa0NBVEwsV0FhZHhCLEtBQUtJLFNBQVNnQixVQUFVQyxPQUFPckIsS0FBS0gsc0JBWnBDRyxLQUFBSyxVQUFLUyxVQUFMTyxPQUFBckIsS0FBQUgsc0JBQ0FHLEtBQUF5QixTQUFLVixVQUFMTSxPQUFBckIsS0FBQUgsc0JBQ0FHLEtBQUEwQixRQUFLVixVQUFMSyxPQUFBckIsS0FBQUYsdUJBRUFFLEtBQUEyQixRQUFLVixVQUFMSSxPQUFzQnJCLEtBQUNtQix1QkFBdkIsR0FBQW5CLEtBQUFZLGFBR0FaLEtBQUtpQixRQUFMRyxVQUFtQlIsSUFBQUEsS0FBTGQsdUJBQ2R5QixLQUFBQSxTQUFPQyxhQUFQeEIsS0FBQVksWUFDRFosS0FBQUssVUFBQXVCLGFBQUE1QixLQUFBWSxZQUFBLEVBYUdaLEtBQUt5QixTQUFTRyxhQUFlNUIsS0FBS1ksWUFBYyxFQUNoRFosS0FBS0ksU0FBU2dCLFVBQVVFLElBQUl0QixLQUFLSCx1QkFackNHLEtBQUFZLGFBQUFaLEtBQWtCaUIsU0FBQVksUUFDaEI3QixLQUFLSSxRQUFMZ0IsVUFBQUUsSUFBd0JELEtBQU92Qix1QkFDL0JFLEtBQUtLLFNBQUx1QixhQUF5QlAsS0FBT1QsWUFBS2YsRUFDckNHLEtBQUt5QixVQUFTTCxhQUFkcEIsS0FBK0JZLFlBQUtmLEVBQ3BDRyxLQUFLMEIsU0FBUU4sYUFBYnBCLEtBQThCWSxZQUM5QlosS0FBSzJCLFNBQVFQLFVBQVVDLElBQUFBLEtBQU94Qix3QkFFOUJHLEtBQUlJLFNBQUtRLGFBQWtCWixLQUFBWSxZQUFBLEVBQ3pCWixLQUFBSyxVQUFhZSxhQUFjcEIsS0FBS0YsWUFDaENFLEtBQUF5QixTQUFLckIsYUFBTEosS0FBNkJZLFlBQTdCLEVBQ0FaLEtBQUFLLFVBQUtBLFVBQVV1QixJQUFmNUIsS0FBOEJILDJEQUk5QixXQUFhdUIsSUFBQUEsRUFBQUEsS0FDYnBCLEtBQUFHLFVBQUtDLGlCQUF1QixTQUFNUSxTQUFBQSxHQUNsQ2tCLEVBQUFDLE9BQUsxQixVQUFVdUIsU0FBZUksRUFBS3BCLGtCQUFuQyxHQUFBb0IsRUFBQXBCLFlBQ0FvQixFQUFLUCxZQUFTRyxFQUpURSxFQUFBQyxPQU1BWCxVQUFBYSxTQUFBRCxFQUFBckMsa0JBQ0xxQyxFQUFLNUIsYUFBU3dCLEVBQWRYLFNBQWtDTCxPQUVsQ29CLEVBQUtQLFlBQVNHLEVBQUFBLFNBQWVDLFFBRTlCQyxFQUFBQyxPQUFBWCxVQUFBYSxTQUFBRCxFQUFBeEMsbUJBQ0ZzQyxFQUFBQyxPQUFBWCxVQUFBYSxTQUFBRCxFQUFBdkMsb0JBY0txQyxFQUFFQyxPQUFPWCxVQUFVYSxTQUFTRCxFQUFLL0IscUJBRWpDK0IsRUFkTnBCLFlBQUFrQixFQUFBQyxPQUFBSCxhQWdCSU0sUUFBUUMsVUFBVSxLQUFNLEtBQXhCLFNBQUFDLE9BQXVDSixFQUFLcEIsY0FmOUNvQixFQUFLN0IsZ0JBQ0g2QixFQUFBSyx5Q0FPQyxXQUtDckMsS0FBQWMsZUFDRGQsS0FBQWUsZUFVSGYsS0FBS2dCLGlCQVRIa0IsS0FBQUEsZ0JBV0ZsQyxLQUFLcUMsa0JBVkhyQyxLQUFBc0MsZ0NBR0gvQixTQUFBZ0MsaUJBQUEsb0JBQUEsV0FjbUIsSUFBSW5ELFVBQVUsQ0FDbENFLGlCQWJBLGFBQ0VDLGtCQUFLdUIsZUFDTHRCLGlCQUFLdUIscUJBQ0x0QixrQkFBS3VCLHNCQUNMZixpQkFBS3VDLHFCQUNMOUMsZ0JBQUsyQyxvQkFDTDFDLGdCQUFLMkMsb0JBQ04xQyxtQkFBQSwwQkFjREMscUJBQXNCLHdCQUN0QkMsc0JBQXVCLDJCQUdYMkMiLCJmaWxlIjoicGFnaW5hdG9yLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5cclxuY2xhc3MgUGFnaW5hdG9yIHtcclxuICBjb25zdHJ1Y3Rvcih7XHJcbiAgICBhcnRpY2xlc1NlbGVjdG9yLFxyXG4gICAgcGFnaW5hdG9yU2VsZWN0b3IsXHJcbiAgICBmaXJzdEJ0blNlbGVjdG9yLFxyXG4gICAgc2Vjb25kQnRuU2VsZWN0b3IsXHJcbiAgICB0aGlyZEJ0blNlbGVjdG9yLFxyXG4gICAgcHJldkJ0blNlbGVjdG9yLFxyXG4gICAgbmV4dEJ0blNlbGVjdG9yLFxyXG4gICAgYXJ0aWNsZUFjdGl2ZUNsYXNzLFxyXG4gICAgcGFnaW5hdG9yQWN0aXZlQ2xhc3MsXHJcbiAgICBwYWdpbmF0b3JCbG9ja2VkQ2xhc3MsXHJcbiAgfSkge1xyXG4gICAgdGhpcy5maXJzdEJ0blNlbGVjdG9yID0gZmlyc3RCdG5TZWxlY3RvcjtcclxuICAgIHRoaXMuc2Vjb25kQnRuU2VsZWN0b3IgPSBzZWNvbmRCdG5TZWxlY3RvcjtcclxuICAgIHRoaXMudGhpcmRCdG5TZWxlY3RvciA9IHRoaXJkQnRuU2VsZWN0b3I7XHJcbiAgICB0aGlzLnByZXZCdG5TZWxlY3RvciA9IHByZXZCdG5TZWxlY3RvcjtcclxuICAgIHRoaXMubmV4dEJ0blNlbGVjdG9yID0gbmV4dEJ0blNlbGVjdG9yO1xyXG4gICAgdGhpcy5hcnRpY2xlQWN0aXZlQ2xhc3MgPSBhcnRpY2xlQWN0aXZlQ2xhc3M7XHJcbiAgICB0aGlzLnBhZ2luYXRvckFjdGl2ZUNsYXNzID0gcGFnaW5hdG9yQWN0aXZlQ2xhc3M7XHJcbiAgICB0aGlzLnBhZ2luYXRvckJsb2NrZWRDbGFzcyA9IHBhZ2luYXRvckJsb2NrZWRDbGFzcztcclxuXHJcbiAgICB0aGlzLmFydGljbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLiR7YXJ0aWNsZXNTZWxlY3Rvcn1gKTtcclxuICAgIHRoaXMucGFnaW5hdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7cGFnaW5hdG9yU2VsZWN0b3J9YCk7XHJcbiAgICB0aGlzLmZpcnN0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7Zmlyc3RCdG5TZWxlY3Rvcn1gKTtcclxuICAgIHRoaXMuc2Vjb25kQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7c2Vjb25kQnRuU2VsZWN0b3J9YCk7XHJcbiAgICB0aGlzLnRoaXJkQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7dGhpcmRCdG5TZWxlY3Rvcn1gKTtcclxuICAgIHRoaXMucHJldkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke3ByZXZCdG5TZWxlY3Rvcn1gKTtcclxuICAgIHRoaXMubmV4dEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke25leHRCdG5TZWxlY3Rvcn1gKTtcclxuXHJcbiAgICB0aGlzLnVybFN0cmluZztcclxuICAgIHRoaXMudXJsUGFyYW1zO1xyXG4gICAgdGhpcy5jdXJyZW50UGFnZTtcclxuICB9XHJcblxyXG4gIGdldFVybFN0cmluZygpIHtcclxuICAgIHRoaXMudXJsU3RyaW5nID0gZG9jdW1lbnQubG9jYXRpb24uc2VhcmNoO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXJsUGFyYW1zKCkge1xyXG4gICAgdGhpcy51cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHRoaXMudXJsU3RyaW5nKTtcclxuICB9XHJcblxyXG4gIGdldEN1cnJlbnRQYWdlKCkge1xyXG4gICAgdGhpcy5jdXJyZW50UGFnZSA9IHRoaXMudXJsUGFyYW1zLmdldCgncGFnZScpO1xyXG4gIH1cclxuXHJcbiAgY2hhbmdlQXJ0aWNsZSgpIHtcclxuICAgIHRoaXMuZ2V0VXJsU3RyaW5nKCk7XHJcbiAgICB0aGlzLmdldFVybFBhcmFtcygpO1xyXG4gICAgdGhpcy5nZXRDdXJyZW50UGFnZSgpO1xyXG5cclxuICAgIHRoaXMuYXJ0aWNsZXMuZm9yRWFjaCgoYXJ0aWNsZSkgPT4ge1xyXG4gICAgICBhcnRpY2xlLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5hcnRpY2xlQWN0aXZlQ2xhc3MpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLmFydGljbGVzW3RoaXMuY3VycmVudFBhZ2UgLSAxXS5jbGFzc0xpc3QuYWRkKHRoaXMuYXJ0aWNsZUFjdGl2ZUNsYXNzKTtcclxuICAgIHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcclxuICB9XHJcblxyXG4gIGNoYW5nZVBhZ2luYXRvcigpIHtcclxuICAgIHRoaXMuZmlyc3RCdG4uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLnBhZ2luYXRvckFjdGl2ZUNsYXNzKTtcclxuICAgIHRoaXMuc2Vjb25kQnRuLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5wYWdpbmF0b3JBY3RpdmVDbGFzcyk7XHJcbiAgICB0aGlzLnRoaXJkQnRuLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5wYWdpbmF0b3JBY3RpdmVDbGFzcyk7XHJcbiAgICB0aGlzLnByZXZCdG4uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLnBhZ2luYXRvckJsb2NrZWRDbGFzcyk7XHJcbiAgICB0aGlzLm5leHRCdG4uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLnBhZ2luYXRvckJsb2NrZWRDbGFzcyk7XHJcblxyXG4gICAgaWYgKHRoaXMuY3VycmVudFBhZ2UgPT0gMSkge1xyXG4gICAgICB0aGlzLnByZXZCdG4uY2xhc3NMaXN0LmFkZCh0aGlzLnBhZ2luYXRvckJsb2NrZWRDbGFzcyk7XHJcbiAgICAgIHRoaXMuZmlyc3RCdG4udGV4dENvbnRlbnQgPSArdGhpcy5jdXJyZW50UGFnZTtcclxuICAgICAgdGhpcy5zZWNvbmRCdG4udGV4dENvbnRlbnQgPSArdGhpcy5jdXJyZW50UGFnZSArIDE7XHJcbiAgICAgIHRoaXMudGhpcmRCdG4udGV4dENvbnRlbnQgPSArdGhpcy5jdXJyZW50UGFnZSArIDI7XHJcbiAgICAgIHRoaXMuZmlyc3RCdG4uY2xhc3NMaXN0LmFkZCh0aGlzLnBhZ2luYXRvckFjdGl2ZUNsYXNzKTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5jdXJyZW50UGFnZSA9PSB0aGlzLmFydGljbGVzLmxlbmd0aCkge1xyXG4gICAgICB0aGlzLm5leHRCdG4uY2xhc3NMaXN0LmFkZCh0aGlzLnBhZ2luYXRvckJsb2NrZWRDbGFzcyk7XHJcbiAgICAgIHRoaXMuZmlyc3RCdG4udGV4dENvbnRlbnQgPSArdGhpcy5jdXJyZW50UGFnZSAtIDI7XHJcbiAgICAgIHRoaXMuc2Vjb25kQnRuLnRleHRDb250ZW50ID0gK3RoaXMuY3VycmVudFBhZ2UgLSAxO1xyXG4gICAgICB0aGlzLnRoaXJkQnRuLnRleHRDb250ZW50ID0gK3RoaXMuY3VycmVudFBhZ2U7XHJcbiAgICAgIHRoaXMudGhpcmRCdG4uY2xhc3NMaXN0LmFkZCh0aGlzLnBhZ2luYXRvckFjdGl2ZUNsYXNzKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZmlyc3RCdG4udGV4dENvbnRlbnQgPSArdGhpcy5jdXJyZW50UGFnZSAtIDE7XHJcbiAgICAgIHRoaXMuc2Vjb25kQnRuLnRleHRDb250ZW50ID0gK3RoaXMuY3VycmVudFBhZ2U7XHJcbiAgICAgIHRoaXMudGhpcmRCdG4udGV4dENvbnRlbnQgPSArdGhpcy5jdXJyZW50UGFnZSArIDE7XHJcbiAgICAgIHRoaXMuc2Vjb25kQnRuLmNsYXNzTGlzdC5hZGQodGhpcy5wYWdpbmF0b3JBY3RpdmVDbGFzcyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRQYWdpbmF0b3JMaXN0ZW5lcigpIHtcclxuICAgIHRoaXMucGFnaW5hdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyh0aGlzLnByZXZCdG5TZWxlY3RvcikgJiYgdGhpcy5jdXJyZW50UGFnZSAhPSAxKSB7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDE7XHJcbiAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMubmV4dEJ0blNlbGVjdG9yKSAmJlxyXG4gICAgICAgIHRoaXMuY3VycmVudFBhZ2UgIT0gdGhpcy5hcnRpY2xlcy5sZW5ndGhcclxuICAgICAgKSB7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IHRoaXMuYXJ0aWNsZXMubGVuZ3RoO1xyXG4gICAgICB9IGVsc2UgaWYgKFxyXG4gICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyh0aGlzLmZpcnN0QnRuU2VsZWN0b3IpIHx8XHJcbiAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuc2Vjb25kQnRuU2VsZWN0b3IpIHx8XHJcbiAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMudGhpcmRCdG5TZWxlY3RvcilcclxuICAgICAgKSB7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IGUudGFyZ2V0LnRleHRDb250ZW50O1xyXG4gICAgICB9XHJcbiAgICAgIGhpc3RvcnkucHVzaFN0YXRlKG51bGwsIG51bGwsIGA/cGFnZT0ke3RoaXMuY3VycmVudFBhZ2V9YCk7XHJcbiAgICAgIHRoaXMuY2hhbmdlQXJ0aWNsZSgpO1xyXG4gICAgICB0aGlzLmNoYW5nZVBhZ2luYXRvcigpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy5nZXRVcmxTdHJpbmcoKTtcclxuICAgIHRoaXMuZ2V0VXJsUGFyYW1zKCk7XHJcbiAgICB0aGlzLmdldEN1cnJlbnRQYWdlKCk7XHJcbiAgICB0aGlzLmNoYW5nZUFydGljbGUoKTtcclxuICAgIHRoaXMuY2hhbmdlUGFnaW5hdG9yKCk7XHJcbiAgICB0aGlzLnNldFBhZ2luYXRvckxpc3RlbmVyKCk7XHJcbiAgfVxyXG59XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xyXG5cclxuY29uc3QgTWFpblBhZ2luYXRvciA9IG5ldyBQYWdpbmF0b3Ioe1xyXG4gIGFydGljbGVzU2VsZWN0b3I6ICdqc19hcnRpY2xlJyxcclxuICBwYWdpbmF0b3JTZWxlY3RvcjogJ2pzX3BhZ2luYXRvcicsXHJcbiAgZmlyc3RCdG5TZWxlY3RvcjogJ2pzX3BhZ2luYXRvci1maXJzdCcsXHJcbiAgc2Vjb25kQnRuU2VsZWN0b3I6ICdqc19wYWdpbmF0b3Itc2Vjb25kJyxcclxuICB0aGlyZEJ0blNlbGVjdG9yOiAnanNfcGFnaW5hdG9yLXRoaXJkJyxcclxuICBwcmV2QnRuU2VsZWN0b3I6ICdqc19wYWdpbmF0b3ItcHJldicsXHJcbiAgbmV4dEJ0blNlbGVjdG9yOiAnanNfcGFnaW5hdG9yLW5leHQnLFxyXG4gIGFydGljbGVBY3RpdmVDbGFzczogJ2hpc3RvcnlfX2FydGljbGVfYWN0aXZlJyxcclxuICBwYWdpbmF0b3JBY3RpdmVDbGFzczogJ3BhZ2luYXRvcl9fYnRuX2FjdGl2ZScsXHJcbiAgcGFnaW5hdG9yQmxvY2tlZENsYXNzOiAncGFnaW5hdG9yX19idG5fYmxvY2tlZCcsXHJcbn0pO1xyXG5cclxuTWFpblBhZ2luYXRvci5pbml0KCk7XHJcblxyXG59KTsiXX0=
